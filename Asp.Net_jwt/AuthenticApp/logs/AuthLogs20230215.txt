2023-02-15 22:05:25.982 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-15 22:05:26.112 +00:00 [DBG] Hosting starting
2023-02-15 22:05:26.175 +00:00 [INF] User profile is available. Using '/Users/daniel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-02-15 22:05:26.187 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-826ed339-3af4-4299-8ccf-c3dacd414a0a.xml'.
2023-02-15 22:05:26.203 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-93de24c7-22e8-442b-a084-241f1e0ac865.xml'.
2023-02-15 22:05:26.253 +00:00 [DBG] Found key {826ed339-3af4-4299-8ccf-c3dacd414a0a}.
2023-02-15 22:05:26.271 +00:00 [DBG] Found key {93de24c7-22e8-442b-a084-241f1e0ac865}.
2023-02-15 22:05:26.280 +00:00 [DBG] Considering key {93de24c7-22e8-442b-a084-241f1e0ac865} with expiration date 2023-02-16 02:01:47Z as default key.
2023-02-15 22:05:26.283 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-15 22:05:26.316 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-02-15 22:05:26.319 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-02-15 22:05:26.340 +00:00 [DBG] Using key {93de24c7-22e8-442b-a084-241f1e0ac865} as the default key.
2023-02-15 22:05:26.342 +00:00 [DBG] Key ring with default key {93de24c7-22e8-442b-a084-241f1e0ac865} was loaded during application startup.
2023-02-15 22:05:26.573 +00:00 [INF] Now listening on: http://localhost:5157
2023-02-15 22:05:26.573 +00:00 [DBG] Loaded hosting startup assembly AuthenticApp
2023-02-15 22:05:26.574 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-15 22:05:26.574 +00:00 [INF] Hosting environment: Development
2023-02-15 22:05:26.574 +00:00 [INF] Content root path: /Users/daniel/GitHubRepo/WebAPI_ASP.NET/Asp.Net_jwt/AuthenticApp/
2023-02-15 22:05:26.574 +00:00 [DBG] Hosting started
2023-02-15 22:06:12.709 +00:00 [DBG] Connection id "0HMOFK3CTGL73" accepted.
2023-02-15 22:06:12.710 +00:00 [DBG] Connection id "0HMOFK3CTGL73" started.
2023-02-15 22:06:12.791 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/ - -
2023-02-15 22:06:12.828 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-15 22:06:12.893 +00:00 [DBG] No candidates found for the request path '/'
2023-02-15 22:06:12.894 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:12.956 +00:00 [DBG] The request path  does not match the path filter
2023-02-15 22:06:12.960 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-15 22:06:13.054 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:06:13.090 +00:00 [DBG] Connection id "0HMOFK3CTGL73" completed keep alive response.
2023-02-15 22:06:13.164 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/ - - - 404 0 - 378.5119ms
2023-02-15 22:06:13.200 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/favicon.ico - -
2023-02-15 22:06:13.201 +00:00 [DBG] No candidates found for the request path '/favicon.ico'
2023-02-15 22:06:13.202 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:13.229 +00:00 [DBG] The request path  does not match the path filter
2023-02-15 22:06:13.231 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:06:13.237 +00:00 [DBG] Connection id "0HMOFK3CTGL73" completed keep alive response.
2023-02-15 22:06:13.238 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/favicon.ico - - - 404 0 - 38.1044ms
2023-02-15 22:06:21.943 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger - -
2023-02-15 22:06:21.947 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-02-15 22:06:21.947 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:21.949 +00:00 [DBG] Connection id "0HMOFK3CTGL73" completed keep alive response.
2023-02-15 22:06:21.949 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger - - - 301 0 - 6.4698ms
2023-02-15 22:06:21.963 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/index.html - -
2023-02-15 22:06:21.964 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-02-15 22:06:21.964 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:22.196 +00:00 [DBG] Connection id "0HMOFK3CTGL73" completed keep alive response.
2023-02-15 22:06:22.196 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/index.html - - - 200 - text/html;charset=utf-8 232.9045ms
2023-02-15 22:06:22.264 +00:00 [DBG] Connection id "0HMOFK3CTGL74" accepted.
2023-02-15 22:06:22.264 +00:00 [DBG] Connection id "0HMOFK3CTGL75" accepted.
2023-02-15 22:06:22.264 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui.css - -
2023-02-15 22:06:22.265 +00:00 [DBG] Connection id "0HMOFK3CTGL75" started.
2023-02-15 22:06:22.265 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-02-15 22:06:22.266 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:22.264 +00:00 [DBG] Connection id "0HMOFK3CTGL74" started.
2023-02-15 22:06:22.266 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui-bundle.js - -
2023-02-15 22:06:22.267 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-02-15 22:06:22.267 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:22.265 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui-standalone-preset.js - -
2023-02-15 22:06:22.267 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-02-15 22:06:22.267 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:22.302 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-02-15 22:06:22.302 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-02-15 22:06:22.303 +00:00 [DBG] Connection id "0HMOFK3CTGL73" completed keep alive response.
2023-02-15 22:06:22.304 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui.css - - - 200 144929 text/css 38.9145ms
2023-02-15 22:06:22.304 +00:00 [DBG] Connection id "0HMOFK3CTGL75" completed keep alive response.
2023-02-15 22:06:22.304 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 38.6687ms
2023-02-15 22:06:22.313 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-02-15 22:06:22.313 +00:00 [DBG] Connection id "0HMOFK3CTGL74" completed keep alive response.
2023-02-15 22:06:22.314 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 47.1020ms
2023-02-15 22:06:22.524 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/favicon-16x16.png - -
2023-02-15 22:06:22.563 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/v1/swagger.json - -
2023-02-15 22:06:22.574 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2023-02-15 22:06:22.575 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-02-15 22:06:22.600 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:22.601 +00:00 [DBG] Request did not match any endpoints
2023-02-15 22:06:22.613 +00:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2023-02-15 22:06:22.627 +00:00 [DBG] Connection id "0HMOFK3CTGL74" completed keep alive response.
2023-02-15 22:06:22.627 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/favicon-16x16.png - - - 200 665 image/png 103.5298ms
2023-02-15 22:06:22.765 +00:00 [DBG] Connection id "0HMOFK3CTGL75" completed keep alive response.
2023-02-15 22:06:22.766 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.4587ms
2023-02-15 22:08:17.661 +00:00 [DBG] Connection id "0HMOFK3CTGL74" received FIN.
2023-02-15 22:08:17.667 +00:00 [DBG] Connection id "0HMOFK3CTGL74" disconnecting.
2023-02-15 22:08:17.661 +00:00 [DBG] Connection id "0HMOFK3CTGL73" received FIN.
2023-02-15 22:08:17.668 +00:00 [DBG] Connection id "0HMOFK3CTGL73" disconnecting.
2023-02-15 22:08:17.670 +00:00 [DBG] Connection id "0HMOFK3CTGL73" sending FIN because: "The client closed the connection."
2023-02-15 22:08:17.671 +00:00 [DBG] Connection id "0HMOFK3CTGL74" sending FIN because: "The client closed the connection."
2023-02-15 22:08:17.680 +00:00 [DBG] Connection id "0HMOFK3CTGL74" stopped.
2023-02-15 22:08:17.681 +00:00 [DBG] Connection id "0HMOFK3CTGL73" stopped.
2023-02-15 22:08:18.660 +00:00 [DBG] Connection id "0HMOFK3CTGL75" received FIN.
2023-02-15 22:08:18.661 +00:00 [DBG] Connection id "0HMOFK3CTGL75" disconnecting.
2023-02-15 22:08:18.661 +00:00 [DBG] Connection id "0HMOFK3CTGL75" stopped.
2023-02-15 22:08:18.661 +00:00 [DBG] Connection id "0HMOFK3CTGL75" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:08:33.490 +00:00 [DBG] Connection id "0HMOFK3CTGL76" received FIN.
2023-02-15 22:08:33.490 +00:00 [DBG] Connection id "0HMOFK3CTGL76" accepted.
2023-02-15 22:08:33.490 +00:00 [DBG] Connection id "0HMOFK3CTGL77" accepted.
2023-02-15 22:08:33.490 +00:00 [DBG] Connection id "0HMOFK3CTGL76" started.
2023-02-15 22:08:33.491 +00:00 [DBG] Connection id "0HMOFK3CTGL76" sending FIN because: "The client closed the connection."
2023-02-15 22:08:33.491 +00:00 [DBG] Connection id "0HMOFK3CTGL76" disconnecting.
2023-02-15 22:08:33.491 +00:00 [DBG] Connection id "0HMOFK3CTGL76" stopped.
2023-02-15 22:08:33.491 +00:00 [DBG] Connection id "0HMOFK3CTGL77" started.
2023-02-15 22:08:33.492 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast - -
2023-02-15 22:08:33.499 +00:00 [DBG] 1 candidate(s) found for the request path '/api/WeatherForeCast'
2023-02-15 22:08:33.504 +00:00 [DBG] Endpoint 'JWTAuthentication.NET6._0.Controllers.WeatherForecastController.Get (AuthenticApp)' with route pattern 'api/WeatherForecast' is valid for the request path '/api/WeatherForeCast'
2023-02-15 22:08:33.504 +00:00 [DBG] Request matched endpoint 'JWTAuthentication.NET6._0.Controllers.WeatherForecastController.Get (AuthenticApp)'
2023-02-15 22:08:33.505 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:08:33.508 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:08:33.515 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-02-15 22:08:33.524 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-15 22:08:33.525 +00:00 [DBG] Connection id "0HMOFK3CTGL77" completed keep alive response.
2023-02-15 22:08:33.525 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast - - - 401 0 - 33.0357ms
2023-02-15 22:10:43.795 +00:00 [DBG] Connection id "0HMOFK3CTGL77" disconnecting.
2023-02-15 22:10:43.797 +00:00 [DBG] Connection id "0HMOFK3CTGL77" stopped.
2023-02-15 22:10:43.801 +00:00 [DBG] Connection id "0HMOFK3CTGL77" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:12:08.013 +00:00 [INF] Application is shutting down...
2023-02-15 22:12:08.017 +00:00 [DBG] Hosting stopping
2023-02-15 22:12:08.037 +00:00 [DBG] Hosting stopped
2023-02-15 22:12:16.278 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-15 22:12:16.757 +00:00 [DBG] Hosting starting
2023-02-15 22:12:16.809 +00:00 [INF] User profile is available. Using '/Users/daniel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-02-15 22:12:16.876 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-826ed339-3af4-4299-8ccf-c3dacd414a0a.xml'.
2023-02-15 22:12:16.910 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-93de24c7-22e8-442b-a084-241f1e0ac865.xml'.
2023-02-15 22:12:16.920 +00:00 [DBG] Found key {826ed339-3af4-4299-8ccf-c3dacd414a0a}.
2023-02-15 22:12:16.933 +00:00 [DBG] Found key {93de24c7-22e8-442b-a084-241f1e0ac865}.
2023-02-15 22:12:16.946 +00:00 [DBG] Considering key {93de24c7-22e8-442b-a084-241f1e0ac865} with expiration date 2023-02-16 02:01:47Z as default key.
2023-02-15 22:12:16.969 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-15 22:12:16.974 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-02-15 22:12:16.982 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-02-15 22:12:16.997 +00:00 [DBG] Using key {93de24c7-22e8-442b-a084-241f1e0ac865} as the default key.
2023-02-15 22:12:16.998 +00:00 [DBG] Key ring with default key {93de24c7-22e8-442b-a084-241f1e0ac865} was loaded during application startup.
2023-02-15 22:12:17.207 +00:00 [INF] Now listening on: http://localhost:5157
2023-02-15 22:12:17.208 +00:00 [DBG] Loaded hosting startup assembly AuthenticApp
2023-02-15 22:12:17.225 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-15 22:12:17.225 +00:00 [INF] Hosting environment: Development
2023-02-15 22:12:17.225 +00:00 [INF] Content root path: /Users/daniel/GitHubRepo/WebAPI_ASP.NET/Asp.Net_jwt/AuthenticApp/
2023-02-15 22:12:17.226 +00:00 [DBG] Hosting started
2023-02-15 22:14:20.978 +00:00 [DBG] Connection id "0HMOFK7UE10I3" received FIN.
2023-02-15 22:14:20.985 +00:00 [DBG] Connection id "0HMOFK7UE10I3" accepted.
2023-02-15 22:14:20.987 +00:00 [DBG] Connection id "0HMOFK7UE10I4" accepted.
2023-02-15 22:14:20.989 +00:00 [DBG] Connection id "0HMOFK7UE10I3" started.
2023-02-15 22:14:20.995 +00:00 [DBG] Connection id "0HMOFK7UE10I4" started.
2023-02-15 22:14:21.015 +00:00 [DBG] Connection id "0HMOFK7UE10I3" sending FIN because: "The client closed the connection."
2023-02-15 22:14:21.045 +00:00 [DBG] Connection id "0HMOFK7UE10I3" disconnecting.
2023-02-15 22:14:21.046 +00:00 [DBG] Connection id "0HMOFK7UE10I3" stopped.
2023-02-15 22:14:21.065 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/Authenticate/register application/json 89
2023-02-15 22:14:21.071 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-15 22:14:21.136 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Authenticate/register'
2023-02-15 22:14:21.147 +00:00 [DBG] Endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)' with route pattern 'api/Authenticate/register' is valid for the request path '/api/Authenticate/register'
2023-02-15 22:14:21.168 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:14:21.197 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:14:21.200 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-15 22:14:21.250 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:14:21.252 +00:00 [INF] Executing endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:14:21.338 +00:00 [INF] Route matched with {action = "Register", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthenticApp.Auth.ResgisterModel) on controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp).
2023-02-15 22:14:21.340 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-15 22:14:21.364 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-15 22:14:21.366 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-15 22:14:21.386 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-15 22:14:21.424 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-15 22:14:21.435 +00:00 [DBG] Executing controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:14:21.621 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-15 22:14:21.650 +00:00 [DBG] Executed controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:14:21.659 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' ...
2023-02-15 22:14:21.665 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' using the name '' in request data ...
2023-02-15 22:14:21.666 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-02-15 22:14:21.910 +00:00 [DBG] Connection id "0HMOFK7UE10I4", Request id "0HMOFK7UE10I4:00000002": started reading request body.
2023-02-15 22:14:21.910 +00:00 [DBG] Connection id "0HMOFK7UE10I4", Request id "0HMOFK7UE10I4:00000002": done reading request body.
2023-02-15 22:14:21.932 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthenticApp.Auth.ResgisterModel'
2023-02-15 22:14:21.933 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:14:21.933 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:14:21.933 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' ...
2023-02-15 22:14:21.947 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:14:22.327 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:14:22.382 +00:00 [INF] Executed action AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp) in 948.6682ms
2023-02-15 22:14:22.384 +00:00 [INF] Executed endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:14:22.387 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot create a DbSet for 'IdentityUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at AuthenticApp.Controllers.AuthenticateController.Register(ResgisterModel model) in /Users/daniel/GitHubRepo/WebAPI_ASP.NET/Asp.Net_jwt/AuthenticApp/Controllers/AuthenticateController.cs:line 62
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-02-15 22:14:22.608 +00:00 [DBG] Connection id "0HMOFK7UE10I4" completed keep alive response.
2023-02-15 22:14:22.633 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:14:22.651 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/Authenticate/register application/json 89 - 500 - text/plain;+charset=utf-8 1593.2677ms
2023-02-15 22:15:02.236 +00:00 [INF] Application is shutting down...
2023-02-15 22:15:02.250 +00:00 [DBG] Hosting stopping
2023-02-15 22:15:02.299 +00:00 [DBG] Connection id "0HMOFK7UE10I4" disconnecting.
2023-02-15 22:15:02.300 +00:00 [DBG] Connection id "0HMOFK7UE10I4" stopped.
2023-02-15 22:15:02.300 +00:00 [DBG] Connection id "0HMOFK7UE10I4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:15:02.305 +00:00 [DBG] Hosting stopped
2023-02-15 22:15:24.393 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-15 22:15:24.781 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:15:24.920 +00:00 [DBG] Creating DbConnection.
2023-02-15 22:15:25.007 +00:00 [DBG] Created DbConnection. (82ms).
2023-02-15 22:15:25.032 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:25.392 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:25.422 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:15:25.452 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (27ms).
2023-02-15 22:15:25.459 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (39ms).
2023-02-15 22:15:25.474 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:15:25.519 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:15:25.522 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:25.538 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (7ms).
2023-02-15 22:15:25.547 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-15 22:15:25.548 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-15 22:15:25.548 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-02-15 22:15:25.548 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:25.552 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:25.553 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:15:25.580 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:15:25.581 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:25.601 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (20ms).
2023-02-15 22:15:26.015 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:15:26.015 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-15 22:15:26.024 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2023-02-15 22:15:26.042 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.062 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.063 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-15 22:15:26.081 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-15 22:15:26.087 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.092 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 6ms reading results.
2023-02-15 22:15:26.100 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.100 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:15:26.108 +00:00 [DBG] Migrating using database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.108 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.111 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.111 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:15:26.112 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:15:26.113 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:15:26.113 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:15:26.118 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:15:26.126 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.127 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:15:26.130 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-15 22:15:26.130 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-15 22:15:26.131 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-02-15 22:15:26.131 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.133 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.133 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:15:26.140 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:15:26.163 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.163 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:15:26.163 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.165 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.166 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:15:26.166 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:15:26.166 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:15:26.166 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:15:26.169 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:15:26.170 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.171 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (1ms).
2023-02-15 22:15:26.175 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-15 22:15:26.175 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-15 22:15:26.175 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-02-15 22:15:26.175 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.176 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.176 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:15:26.179 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:15:26.179 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.179 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:15:26.183 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:15:26.183 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-15 22:15:26.185 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-02-15 22:15:26.185 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.186 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.186 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-15 22:15:26.192 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-15 22:15:26.194 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.195 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 0ms reading results.
2023-02-15 22:15:26.196 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.196 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:15:26.215 +00:00 [INF] Reverting migration '20230215214705_InitialCreate'.
2023-02-15 22:15:26.236 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.236 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.243 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-02-15 22:15:26.253 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-02-15 22:15:26.254 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:15:26.254 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:15:26.261 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2023-02-15 22:15:26.261 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20230215214705_InitialCreate';
2023-02-15 22:15:26.279 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20230215214705_InitialCreate';
2023-02-15 22:15:26.283 +00:00 [DBG] Committing transaction.
2023-02-15 22:15:26.296 +00:00 [DBG] Committed transaction.
2023-02-15 22:15:26.299 +00:00 [DBG] Disposing transaction.
2023-02-15 22:15:26.300 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.300 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:15:26.321 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:15:26.326 +00:00 [DBG] Disposing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:15:26.327 +00:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-02-15 22:16:55.378 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-15 22:16:56.182 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-15 22:16:56.186 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-15 22:16:56.660 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:16:56.723 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-15 22:16:56.723 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-15 22:16:56.997 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:28:17.304 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-15 22:28:18.011 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-15 22:28:18.030 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-15 22:28:18.517 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:28:18.565 +00:00 [DBG] Creating DbConnection.
2023-02-15 22:28:18.653 +00:00 [DBG] Created DbConnection. (81ms).
2023-02-15 22:28:18.669 +00:00 [DBG] Migrating using database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:18.685 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.048 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.173 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.196 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (125ms).
2023-02-15 22:28:19.205 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (152ms).
2023-02-15 22:28:19.232 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:28:19.293 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:28:19.297 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.315 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (8ms).
2023-02-15 22:28:19.320 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-15 22:28:19.320 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-15 22:28:19.325 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2023-02-15 22:28:19.325 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.331 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.333 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:28:19.368 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:28:19.369 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.371 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (2ms).
2023-02-15 22:28:19.376 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.382 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.382 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.383 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.383 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.383 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:28:19.391 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:28:19.391 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.392 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:28:19.393 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-15 22:28:19.393 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-15 22:28:19.394 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-02-15 22:28:19.395 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.395 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.395 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:28:19.411 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:28:19.411 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.412 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:28:19.434 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:28:19.434 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-15 22:28:19.434 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-15 22:28:19.434 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.435 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.436 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-15 22:28:19.447 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-15 22:28:19.452 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.454 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 4ms reading results.
2023-02-15 22:28:19.455 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.457 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (2ms).
2023-02-15 22:28:19.487 +00:00 [INF] Applying migration '20230215221656_InitialCreate'.
2023-02-15 22:28:19.594 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.595 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.603 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-02-15 22:28:19.618 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-02-15 22:28:19.619 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.619 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.621 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:28:19.625 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-02-15 22:28:19.638 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-02-15 22:28:19.643 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.643 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.643 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.643 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-02-15 22:28:19.653 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-02-15 22:28:19.654 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.654 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.654 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.655 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.668 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.668 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.668 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.669 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:28:19.669 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.681 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.684 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.684 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.685 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.685 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.716 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.716 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.719 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-02-15 22:28:19.720 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2023-02-15 22:28:19.720 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.742 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.745 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.747 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:28:19.748 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:28:19.750 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.765 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-02-15 22:28:19.766 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.766 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.766 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.767 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-02-15 22:28:19.771 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-02-15 22:28:19.772 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.772 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.772 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.773 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-02-15 22:28:19.787 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-02-15 22:28:19.787 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.787 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.787 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.787 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-02-15 22:28:19.812 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-02-15 22:28:19.814 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.815 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:28:19.815 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:28:19.818 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-02-15 22:28:19.834 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-02-15 22:28:19.835 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.836 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.836 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:28:19.836 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-02-15 22:28:19.842 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-02-15 22:28:19.842 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.847 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-02-15 22:28:19.849 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2023-02-15 22:28:19.851 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-02-15 22:28:19.856 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-02-15 22:28:19.856 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.856 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.856 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.857 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-02-15 22:28:19.871 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-02-15 22:28:19.872 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:28:19.872 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:28:19.873 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-02-15 22:28:19.873 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230215221656_InitialCreate', N'7.0.3');
2023-02-15 22:28:19.879 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230215221656_InitialCreate', N'7.0.3');
2023-02-15 22:28:19.885 +00:00 [DBG] Committing transaction.
2023-02-15 22:28:19.900 +00:00 [DBG] Committed transaction.
2023-02-15 22:28:19.902 +00:00 [DBG] Disposing transaction.
2023-02-15 22:28:19.902 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.903 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:28:19.905 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:28:19.907 +00:00 [DBG] Disposing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:28:19.908 +00:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-15 22:29:05.099 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-15 22:29:05.717 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-15 22:29:05.719 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-15 22:29:06.111 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:29:06.134 +00:00 [DBG] Creating DbConnection.
2023-02-15 22:29:06.198 +00:00 [DBG] Created DbConnection. (57ms).
2023-02-15 22:29:06.205 +00:00 [DBG] Migrating using database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.213 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.557 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.566 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:29:06.576 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2023-02-15 22:29:06.579 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (17ms).
2023-02-15 22:29:06.587 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:29:06.631 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:29:06.634 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.649 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (5ms).
2023-02-15 22:29:06.655 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-15 22:29:06.672 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (17ms).
2023-02-15 22:29:06.683 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (27ms).
2023-02-15 22:29:06.685 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.686 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.691 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:29:06.741 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:29:06.742 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.747 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (2ms).
2023-02-15 22:29:06.748 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.750 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.750 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-02-15 22:29:06.750 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:29:06.750 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-02-15 22:29:06.751 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:29:06.755 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-02-15 22:29:06.756 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.756 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:29:06.756 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-02-15 22:29:06.756 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-02-15 22:29:06.757 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-02-15 22:29:06.757 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.757 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.757 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:29:06.761 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-02-15 22:29:06.761 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.761 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:29:06.868 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:29:06.869 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-02-15 22:29:06.869 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-02-15 22:29:06.869 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.870 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.870 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-15 22:29:06.899 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-02-15 22:29:06.903 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.904 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 2ms reading results.
2023-02-15 22:29:06.904 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.904 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:29:06.931 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-02-15 22:29:06.933 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:29:06.937 +00:00 [DBG] Disposing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:06.939 +00:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-02-15 22:29:20.678 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-15 22:29:20.869 +00:00 [DBG] Hosting starting
2023-02-15 22:29:20.883 +00:00 [INF] User profile is available. Using '/Users/daniel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-02-15 22:29:20.897 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-826ed339-3af4-4299-8ccf-c3dacd414a0a.xml'.
2023-02-15 22:29:20.912 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-93de24c7-22e8-442b-a084-241f1e0ac865.xml'.
2023-02-15 22:29:20.929 +00:00 [DBG] Found key {826ed339-3af4-4299-8ccf-c3dacd414a0a}.
2023-02-15 22:29:20.950 +00:00 [DBG] Found key {93de24c7-22e8-442b-a084-241f1e0ac865}.
2023-02-15 22:29:20.969 +00:00 [DBG] Considering key {93de24c7-22e8-442b-a084-241f1e0ac865} with expiration date 2023-02-16 02:01:47Z as default key.
2023-02-15 22:29:20.972 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-15 22:29:20.994 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-02-15 22:29:21.001 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-02-15 22:29:21.017 +00:00 [DBG] Using key {93de24c7-22e8-442b-a084-241f1e0ac865} as the default key.
2023-02-15 22:29:21.020 +00:00 [DBG] Key ring with default key {93de24c7-22e8-442b-a084-241f1e0ac865} was loaded during application startup.
2023-02-15 22:29:21.099 +00:00 [INF] Now listening on: http://localhost:5157
2023-02-15 22:29:21.099 +00:00 [DBG] Loaded hosting startup assembly AuthenticApp
2023-02-15 22:29:21.099 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-15 22:29:21.099 +00:00 [INF] Hosting environment: Development
2023-02-15 22:29:21.100 +00:00 [INF] Content root path: /Users/daniel/GitHubRepo/WebAPI_ASP.NET/Asp.Net_jwt/AuthenticApp/
2023-02-15 22:29:21.102 +00:00 [DBG] Hosting started
2023-02-15 22:29:35.965 +00:00 [DBG] Connection id "0HMOFKGF40UTN" received FIN.
2023-02-15 22:29:35.971 +00:00 [DBG] Connection id "0HMOFKGF40UTN" accepted.
2023-02-15 22:29:35.973 +00:00 [DBG] Connection id "0HMOFKGF40UTO" accepted.
2023-02-15 22:29:35.974 +00:00 [DBG] Connection id "0HMOFKGF40UTN" started.
2023-02-15 22:29:35.974 +00:00 [DBG] Connection id "0HMOFKGF40UTO" started.
2023-02-15 22:29:35.986 +00:00 [DBG] Connection id "0HMOFKGF40UTN" sending FIN because: "The client closed the connection."
2023-02-15 22:29:35.997 +00:00 [DBG] Connection id "0HMOFKGF40UTN" disconnecting.
2023-02-15 22:29:35.999 +00:00 [DBG] Connection id "0HMOFKGF40UTN" stopped.
2023-02-15 22:29:36.021 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/Authenticate/register application/json 89
2023-02-15 22:29:36.029 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-15 22:29:36.080 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Authenticate/register'
2023-02-15 22:29:36.093 +00:00 [DBG] Endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)' with route pattern 'api/Authenticate/register' is valid for the request path '/api/Authenticate/register'
2023-02-15 22:29:36.095 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:29:36.171 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:29:36.185 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-15 22:29:36.255 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:29:36.257 +00:00 [INF] Executing endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:29:36.326 +00:00 [INF] Route matched with {action = "Register", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthenticApp.Auth.ResgisterModel) on controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp).
2023-02-15 22:29:36.327 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-15 22:29:36.327 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-15 22:29:36.328 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-15 22:29:36.328 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-15 22:29:36.329 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-15 22:29:36.330 +00:00 [DBG] Executing controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:29:36.491 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-15 22:29:36.555 +00:00 [DBG] Executed controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:29:36.567 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' ...
2023-02-15 22:29:36.569 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' using the name '' in request data ...
2023-02-15 22:29:36.569 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-02-15 22:29:36.665 +00:00 [DBG] Connection id "0HMOFKGF40UTO", Request id "0HMOFKGF40UTO:00000002": started reading request body.
2023-02-15 22:29:36.665 +00:00 [DBG] Connection id "0HMOFKGF40UTO", Request id "0HMOFKGF40UTO:00000002": done reading request body.
2023-02-15 22:29:36.744 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthenticApp.Auth.ResgisterModel'
2023-02-15 22:29:36.745 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:29:36.755 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:29:36.793 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' ...
2023-02-15 22:29:36.829 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:29:37.406 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-15 22:29:37.406 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-15 22:29:37.798 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:29:37.911 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-02-15 22:29:38.150 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Email (string) MaxLength(256), 3], [Property: IdentityUser.EmailConfirmed (bool) Required, 4], [Property: IdentityUser.LockoutEnabled (bool) Required, 5], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 6], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: IdentityUser.PasswordHash (string), 9], [Property: IdentityUser.PhoneNumber (string), 10], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 11], [Property: IdentityUser.SecurityStamp (string), 12], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 13], [Property: IdentityUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUser>, 
        AuthenticApp.Auth.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-15 22:29:38.226 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:29:38.230 +00:00 [DBG] Creating DbConnection.
2023-02-15 22:29:38.299 +00:00 [DBG] Created DbConnection. (65ms).
2023-02-15 22:29:38.314 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (78ms).
2023-02-15 22:29:38.327 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (101ms).
2023-02-15 22:29:38.332 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:38.657 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:38.680 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:29:38.865 +00:00 [INF] Executed DbCommand (201ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:29:38.884 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:38.901 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 26ms reading results.
2023-02-15 22:29:38.914 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:38.932 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (13ms).
2023-02-15 22:29:38.958 +00:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2023-02-15 22:29:38.963 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-02-15 22:29:38.980 +00:00 [DBG] No information found on request to perform content negotiation.
2023-02-15 22:29:38.993 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-15 22:29:39.009 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-15 22:29:39.036 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-15 22:29:39.115 +00:00 [INF] Executing ObjectResult, writing value of type 'AuthenticApp.Auth.Response'.
2023-02-15 22:29:39.186 +00:00 [INF] Executed action AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp) in 2826.8651ms
2023-02-15 22:29:39.197 +00:00 [INF] Executed endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:29:39.201 +00:00 [DBG] Connection id "0HMOFKGF40UTO" completed keep alive response.
2023-02-15 22:29:39.249 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:29:39.283 +00:00 [DBG] Disposing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:29:39.356 +00:00 [DBG] Disposed connection to database '' on server '' (45ms).
2023-02-15 22:29:39.358 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/Authenticate/register application/json 89 - 500 - application/json;+charset=utf-8 3341.3012ms
2023-02-15 22:31:09.796 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/Authenticate/register application/json 89
2023-02-15 22:31:09.799 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Authenticate/register'
2023-02-15 22:31:09.799 +00:00 [DBG] Endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)' with route pattern 'api/Authenticate/register' is valid for the request path '/api/Authenticate/register'
2023-02-15 22:31:09.799 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:31:09.799 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:31:09.801 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:31:09.802 +00:00 [INF] Executing endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:31:09.802 +00:00 [INF] Route matched with {action = "Register", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthenticApp.Auth.ResgisterModel) on controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp).
2023-02-15 22:31:09.804 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-15 22:31:09.804 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-15 22:31:09.806 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-15 22:31:09.806 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-15 22:31:09.807 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-15 22:31:09.807 +00:00 [DBG] Executing controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:31:09.808 +00:00 [DBG] Executed controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:31:09.810 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' ...
2023-02-15 22:31:09.811 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' using the name '' in request data ...
2023-02-15 22:31:09.811 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-02-15 22:31:09.811 +00:00 [DBG] Connection id "0HMOFKGF40UTO", Request id "0HMOFKGF40UTO:00000003": started reading request body.
2023-02-15 22:31:09.811 +00:00 [DBG] Connection id "0HMOFKGF40UTO", Request id "0HMOFKGF40UTO:00000003": done reading request body.
2023-02-15 22:31:09.811 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthenticApp.Auth.ResgisterModel'
2023-02-15 22:31:09.811 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:31:09.812 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:31:09.812 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel' ...
2023-02-15 22:31:09.813 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.ResgisterModel'.
2023-02-15 22:31:09.902 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:31:09.906 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:31:09.906 +00:00 [DBG] Creating DbConnection.
2023-02-15 22:31:09.906 +00:00 [DBG] Created DbConnection. (0ms).
2023-02-15 22:31:09.910 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-02-15 22:31:09.910 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-02-15 22:31:09.910 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:09.913 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:09.913 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:31:09.930 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:31:09.931 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:09.931 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 0ms reading results.
2023-02-15 22:31:09.931 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:09.931 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:31:09.997 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:31:09.997 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-15 22:31:10.010 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2023-02-15 22:31:10.011 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.013 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.016 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:31:10.052 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:31:10.052 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.052 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 0ms reading results.
2023-02-15 22:31:10.053 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.053 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:31:10.198 +00:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-15 22:31:10.208 +00:00 [DBG] SaveChanges starting for 'AuthDbContext'.
2023-02-15 22:31:10.212 +00:00 [DBG] DetectChanges starting for 'AuthDbContext'.
2023-02-15 22:31:10.263 +00:00 [DBG] DetectChanges completed for 'AuthDbContext'.
2023-02-15 22:31:10.366 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.366 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.369 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:31:10.369 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-15 22:31:10.369 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-02-15 22:31:10.370 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-02-15 22:31:10.391 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-02-15 22:31:10.398 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.398 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 6ms reading results.
2023-02-15 22:31:10.399 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.399 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:31:10.410 +00:00 [DBG] An entity of type 'IdentityUser' tracked by 'AuthDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-15 22:31:10.413 +00:00 [DBG] SaveChanges completed for 'AuthDbContext' with 1 entities written to the database.
2023-02-15 22:31:10.415 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-02-15 22:31:10.415 +00:00 [DBG] No information found on request to perform content negotiation.
2023-02-15 22:31:10.415 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-15 22:31:10.416 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-15 22:31:10.416 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-15 22:31:10.416 +00:00 [INF] Executing OkObjectResult, writing value of type 'AuthenticApp.Auth.Response'.
2023-02-15 22:31:10.424 +00:00 [INF] Executed action AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp) in 617.3531ms
2023-02-15 22:31:10.424 +00:00 [INF] Executed endpoint 'AuthenticApp.Controllers.AuthenticateController.Register (AuthenticApp)'
2023-02-15 22:31:10.424 +00:00 [DBG] Connection id "0HMOFKGF40UTO" completed keep alive response.
2023-02-15 22:31:10.428 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:31:10.428 +00:00 [DBG] Disposing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:31:10.428 +00:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-15 22:31:10.503 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/Authenticate/register application/json 89 - 200 - application/json;+charset=utf-8 682.8267ms
2023-02-15 22:33:21.256 +00:00 [DBG] Connection id "0HMOFKGF40UTO" disconnecting.
2023-02-15 22:33:21.263 +00:00 [DBG] Connection id "0HMOFKGF40UTO" stopped.
2023-02-15 22:33:21.264 +00:00 [DBG] Connection id "0HMOFKGF40UTO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:34:33.883 +00:00 [DBG] Connection id "0HMOFKGF40UTP" received FIN.
2023-02-15 22:34:33.884 +00:00 [DBG] Connection id "0HMOFKGF40UTP" accepted.
2023-02-15 22:34:33.884 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" accepted.
2023-02-15 22:34:33.884 +00:00 [DBG] Connection id "0HMOFKGF40UTP" started.
2023-02-15 22:34:33.884 +00:00 [DBG] Connection id "0HMOFKGF40UTP" sending FIN because: "The client closed the connection."
2023-02-15 22:34:33.884 +00:00 [DBG] Connection id "0HMOFKGF40UTP" disconnecting.
2023-02-15 22:34:33.884 +00:00 [DBG] Connection id "0HMOFKGF40UTP" stopped.
2023-02-15 22:34:33.885 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" started.
2023-02-15 22:34:33.885 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/Authenticate/login application/json 60
2023-02-15 22:34:33.885 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Authenticate/login'
2023-02-15 22:34:33.885 +00:00 [DBG] Endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)' with route pattern 'api/Authenticate/login' is valid for the request path '/api/Authenticate/login'
2023-02-15 22:34:33.885 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:34:33.886 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:34:33.888 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:34:33.888 +00:00 [INF] Executing endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:34:33.892 +00:00 [INF] Route matched with {action = "Login", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthenticApp.Auth.LoginModel) on controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp).
2023-02-15 22:34:33.892 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-15 22:34:33.892 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-15 22:34:33.893 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-15 22:34:33.893 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-15 22:34:33.894 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-15 22:34:33.894 +00:00 [DBG] Executing controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:34:33.904 +00:00 [DBG] Executed controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:34:33.904 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel' ...
2023-02-15 22:34:33.904 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel' using the name '' in request data ...
2023-02-15 22:34:33.904 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-02-15 22:34:33.905 +00:00 [DBG] Connection id "0HMOFKGF40UTQ", Request id "0HMOFKGF40UTQ:00000002": started reading request body.
2023-02-15 22:34:33.905 +00:00 [DBG] Connection id "0HMOFKGF40UTQ", Request id "0HMOFKGF40UTQ:00000002": done reading request body.
2023-02-15 22:34:33.906 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthenticApp.Auth.LoginModel'
2023-02-15 22:34:33.906 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:34:33.906 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:34:33.906 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.LoginModel' ...
2023-02-15 22:34:33.907 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:34:33.927 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:34:33.928 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:34:33.929 +00:00 [DBG] Creating DbConnection.
2023-02-15 22:34:33.935 +00:00 [DBG] Created DbConnection. (5ms).
2023-02-15 22:34:33.946 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2023-02-15 22:34:33.948 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2023-02-15 22:34:33.952 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:34:33.962 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:34:33.967 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:34:34.007 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:34:34.020 +00:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-15 22:34:34.022 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:34:34.022 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 14ms reading results.
2023-02-15 22:34:34.022 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:34:34.022 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:34:34.036 +00:00 [WRN] Invalid password for user.
2023-02-15 22:34:34.038 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-02-15 22:34:34.038 +00:00 [DBG] No information found on request to perform content negotiation.
2023-02-15 22:34:34.039 +00:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-02-15 22:34:34.039 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-02-15 22:34:34.039 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-15 22:34:34.063 +00:00 [INF] Executed action AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp) in 168.7524ms
2023-02-15 22:34:34.064 +00:00 [INF] Executed endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:34:34.064 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" completed keep alive response.
2023-02-15 22:34:34.065 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:34:34.065 +00:00 [DBG] Disposing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:34:34.065 +00:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-15 22:34:34.066 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/Authenticate/login application/json 60 - 401 - application/problem+json;+charset=utf-8 180.6559ms
2023-02-15 22:35:10.602 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/Authenticate/login application/json 61
2023-02-15 22:35:10.608 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Authenticate/login'
2023-02-15 22:35:10.608 +00:00 [DBG] Endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)' with route pattern 'api/Authenticate/login' is valid for the request path '/api/Authenticate/login'
2023-02-15 22:35:10.610 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:35:10.610 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:35:10.610 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:35:10.611 +00:00 [INF] Executing endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:35:10.611 +00:00 [INF] Route matched with {action = "Login", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthenticApp.Auth.LoginModel) on controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp).
2023-02-15 22:35:10.611 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-15 22:35:10.611 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-15 22:35:10.612 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-15 22:35:10.612 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-15 22:35:10.613 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-15 22:35:10.613 +00:00 [DBG] Executing controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:35:10.613 +00:00 [DBG] Executed controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:35:10.614 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel' ...
2023-02-15 22:35:10.615 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel' using the name '' in request data ...
2023-02-15 22:35:10.615 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-02-15 22:35:10.616 +00:00 [DBG] Connection id "0HMOFKGF40UTQ", Request id "0HMOFKGF40UTQ:00000003": started reading request body.
2023-02-15 22:35:10.616 +00:00 [DBG] Connection id "0HMOFKGF40UTQ", Request id "0HMOFKGF40UTQ:00000003": done reading request body.
2023-02-15 22:35:10.616 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthenticApp.Auth.LoginModel'
2023-02-15 22:35:10.617 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:35:10.618 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:35:10.618 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.LoginModel' ...
2023-02-15 22:35:10.618 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:35:10.619 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:35:10.619 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:35:10.620 +00:00 [DBG] Creating DbConnection.
2023-02-15 22:35:10.620 +00:00 [DBG] Created DbConnection. (0ms).
2023-02-15 22:35:10.622 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-02-15 22:35:10.623 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-02-15 22:35:10.623 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:10.624 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:10.625 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:35:10.635 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:35:10.635 +00:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-15 22:35:10.635 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:10.636 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 0ms reading results.
2023-02-15 22:35:10.636 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:10.636 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:35:10.661 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-02-15 22:35:10.791 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    AuthenticApp.Auth.AuthDbContext, 
    False, 
    False, 
    True
)'
2023-02-15 22:35:10.796 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:35:10.797 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-15 22:35:10.801 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-02-15 22:35:10.804 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:10.807 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:10.808 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-02-15 22:35:10.821 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-02-15 22:35:10.822 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:10.823 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 1ms reading results.
2023-02-15 22:35:10.823 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:10.823 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:35:10.958 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-02-15 22:35:10.958 +00:00 [DBG] No information found on request to perform content negotiation.
2023-02-15 22:35:10.973 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-15 22:35:10.973 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-15 22:35:10.975 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-15 22:35:10.979 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-15 22:35:11.027 +00:00 [INF] Executed action AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp) in 413.6523ms
2023-02-15 22:35:11.027 +00:00 [INF] Executed endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:35:11.028 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" completed keep alive response.
2023-02-15 22:35:11.028 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:35:11.028 +00:00 [DBG] Disposing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:35:11.028 +00:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-02-15 22:35:11.030 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/Authenticate/login application/json 61 - 200 - application/json;+charset=utf-8 427.2486ms
2023-02-15 22:37:16.893 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast - -
2023-02-15 22:37:16.893 +00:00 [DBG] 1 candidate(s) found for the request path '/api/WeatherForeCast'
2023-02-15 22:37:16.894 +00:00 [DBG] Endpoint 'JWTAuthentication.NET6._0.Controllers.WeatherForecastController.Get (AuthenticApp)' with route pattern 'api/WeatherForecast' is valid for the request path '/api/WeatherForeCast'
2023-02-15 22:37:16.894 +00:00 [DBG] Request matched endpoint 'JWTAuthentication.NET6._0.Controllers.WeatherForecastController.Get (AuthenticApp)'
2023-02-15 22:37:16.904 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:37:16.912 +00:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2023-02-15 22:37:16.918 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-02-15 22:37:16.925 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-15 22:37:16.925 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" completed keep alive response.
2023-02-15 22:37:16.925 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast - - - 401 0 - 32.8775ms
2023-02-15 22:38:25.114 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61
2023-02-15 22:38:25.114 +00:00 [DBG] 1 candidate(s) found for the request path '/api/WeatherForeCast'
2023-02-15 22:38:25.114 +00:00 [DBG] Endpoint 'JWTAuthentication.NET6._0.Controllers.WeatherForecastController.Get (AuthenticApp)' with route pattern 'api/WeatherForecast' is valid for the request path '/api/WeatherForeCast'
2023-02-15 22:38:25.115 +00:00 [DBG] Request matched endpoint 'JWTAuthentication.NET6._0.Controllers.WeatherForecastController.Get (AuthenticApp)'
2023-02-15 22:38:25.115 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:38:25.115 +00:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2023-02-15 22:38:25.116 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-02-15 22:38:25.116 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-15 22:38:25.117 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" completed keep alive response.
2023-02-15 22:38:25.117 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61 - 401 0 - 2.5358ms
2023-02-15 22:38:25.117 +00:00 [DBG] Connection id "0HMOFKGF40UTQ", Request id "0HMOFKGF40UTQ:00000005": started reading request body.
2023-02-15 22:38:25.117 +00:00 [DBG] Connection id "0HMOFKGF40UTQ", Request id "0HMOFKGF40UTQ:00000005": done reading request body.
2023-02-15 22:39:03.425 +00:00 [INF] Application is shutting down...
2023-02-15 22:39:03.427 +00:00 [DBG] Hosting stopping
2023-02-15 22:39:03.444 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" disconnecting.
2023-02-15 22:39:03.444 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" stopped.
2023-02-15 22:39:03.444 +00:00 [DBG] Connection id "0HMOFKGF40UTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:39:03.447 +00:00 [DBG] Hosting stopped
2023-02-15 22:40:53.529 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-15 22:40:53.690 +00:00 [DBG] Hosting starting
2023-02-15 22:40:53.720 +00:00 [INF] User profile is available. Using '/Users/daniel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-02-15 22:40:53.725 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-826ed339-3af4-4299-8ccf-c3dacd414a0a.xml'.
2023-02-15 22:40:53.736 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-93de24c7-22e8-442b-a084-241f1e0ac865.xml'.
2023-02-15 22:40:53.744 +00:00 [DBG] Found key {826ed339-3af4-4299-8ccf-c3dacd414a0a}.
2023-02-15 22:40:53.751 +00:00 [DBG] Found key {93de24c7-22e8-442b-a084-241f1e0ac865}.
2023-02-15 22:40:53.759 +00:00 [DBG] Considering key {93de24c7-22e8-442b-a084-241f1e0ac865} with expiration date 2023-02-16 02:01:47Z as default key.
2023-02-15 22:40:53.761 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-15 22:40:53.767 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-02-15 22:40:53.768 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-02-15 22:40:53.777 +00:00 [DBG] Using key {93de24c7-22e8-442b-a084-241f1e0ac865} as the default key.
2023-02-15 22:40:53.778 +00:00 [DBG] Key ring with default key {93de24c7-22e8-442b-a084-241f1e0ac865} was loaded during application startup.
2023-02-15 22:40:53.856 +00:00 [INF] Now listening on: http://localhost:5157
2023-02-15 22:40:53.856 +00:00 [DBG] Loaded hosting startup assembly AuthenticApp
2023-02-15 22:40:53.856 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-15 22:40:53.857 +00:00 [INF] Hosting environment: Development
2023-02-15 22:40:53.857 +00:00 [INF] Content root path: /Users/daniel/GitHubRepo/WebAPI_ASP.NET/Asp.Net_jwt/AuthenticApp/
2023-02-15 22:40:53.857 +00:00 [DBG] Hosting started
2023-02-15 22:40:59.601 +00:00 [DBG] Connection id "0HMOFKMQRLSET" received FIN.
2023-02-15 22:40:59.615 +00:00 [DBG] Connection id "0HMOFKMQRLSET" accepted.
2023-02-15 22:40:59.616 +00:00 [DBG] Connection id "0HMOFKMQRLSEU" accepted.
2023-02-15 22:40:59.618 +00:00 [DBG] Connection id "0HMOFKMQRLSET" started.
2023-02-15 22:40:59.618 +00:00 [DBG] Connection id "0HMOFKMQRLSEU" started.
2023-02-15 22:40:59.648 +00:00 [DBG] Connection id "0HMOFKMQRLSET" sending FIN because: "The client closed the connection."
2023-02-15 22:40:59.661 +00:00 [DBG] Connection id "0HMOFKMQRLSET" disconnecting.
2023-02-15 22:40:59.666 +00:00 [DBG] Connection id "0HMOFKMQRLSET" stopped.
2023-02-15 22:40:59.713 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61
2023-02-15 22:40:59.719 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-15 22:40:59.755 +00:00 [DBG] 1 candidate(s) found for the request path '/api/WeatherForeCast'
2023-02-15 22:40:59.760 +00:00 [DBG] Endpoint 'AuthenticApp.Auth.Controllers.WeatherForecastController.Get (AuthenticApp)' with route pattern 'api/WeatherForecast' is valid for the request path '/api/WeatherForeCast'
2023-02-15 22:40:59.761 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Auth.Controllers.WeatherForecastController.Get (AuthenticApp)'
2023-02-15 22:40:59.808 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:40:59.832 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-15 22:40:59.934 +00:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2023-02-15 22:40:59.973 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-02-15 22:41:00.020 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-15 22:41:00.036 +00:00 [DBG] Connection id "0HMOFKMQRLSEU" completed keep alive response.
2023-02-15 22:41:00.238 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61 - 401 0 - 504.3874ms
2023-02-15 22:41:00.241 +00:00 [DBG] Connection id "0HMOFKMQRLSEU", Request id "0HMOFKMQRLSEU:00000002": started reading request body.
2023-02-15 22:41:00.241 +00:00 [DBG] Connection id "0HMOFKMQRLSEU", Request id "0HMOFKMQRLSEU:00000002": done reading request body.
2023-02-15 22:41:06.090 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/Authenticate/login application/json 61
2023-02-15 22:41:06.091 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Authenticate/login'
2023-02-15 22:41:06.091 +00:00 [DBG] Endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)' with route pattern 'api/Authenticate/login' is valid for the request path '/api/Authenticate/login'
2023-02-15 22:41:06.092 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:41:06.092 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:41:06.095 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:41:06.102 +00:00 [INF] Executing endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:41:06.181 +00:00 [INF] Route matched with {action = "Login", controller = "Authenticate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthenticApp.Auth.LoginModel) on controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp).
2023-02-15 22:41:06.186 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-15 22:41:06.194 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-15 22:41:06.204 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-15 22:41:06.261 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-15 22:41:06.273 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-15 22:41:06.337 +00:00 [DBG] Executing controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:41:07.288 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-15 22:41:07.613 +00:00 [DBG] Executed controller factory for controller AuthenticApp.Controllers.AuthenticateController (AuthenticApp)
2023-02-15 22:41:07.653 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel' ...
2023-02-15 22:41:07.668 +00:00 [DBG] Attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel' using the name '' in request data ...
2023-02-15 22:41:07.692 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-02-15 22:41:08.238 +00:00 [DBG] Connection id "0HMOFKMQRLSEU", Request id "0HMOFKMQRLSEU:00000003": started reading request body.
2023-02-15 22:41:08.252 +00:00 [DBG] Connection id "0HMOFKMQRLSEU", Request id "0HMOFKMQRLSEU:00000003": done reading request body.
2023-02-15 22:41:08.355 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthenticApp.Auth.LoginModel'
2023-02-15 22:41:08.441 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:41:08.469 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:41:08.469 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.LoginModel' ...
2023-02-15 22:41:08.509 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'AuthenticApp.Auth.LoginModel'.
2023-02-15 22:41:09.621 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-02-15 22:41:09.621 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-02-15 22:41:10.126 +00:00 [DBG] Entity Framework Core 7.0.3 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.3' with options: None
2023-02-15 22:41:10.247 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-02-15 22:41:10.574 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Email (string) MaxLength(256), 3], [Property: IdentityUser.EmailConfirmed (bool) Required, 4], [Property: IdentityUser.LockoutEnabled (bool) Required, 5], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 6], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 7], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 8], [Property: IdentityUser.PasswordHash (string), 9], [Property: IdentityUser.PhoneNumber (string), 10], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 11], [Property: IdentityUser.SecurityStamp (string), 12], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 13], [Property: IdentityUser.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUser>, 
        AuthenticApp.Auth.AuthDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-15 22:41:10.670 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:41:10.672 +00:00 [DBG] Creating DbConnection.
2023-02-15 22:41:10.730 +00:00 [DBG] Created DbConnection. (51ms).
2023-02-15 22:41:10.742 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (71ms).
2023-02-15 22:41:10.813 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (144ms).
2023-02-15 22:41:10.832 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:11.381 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:11.395 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:41:11.484 +00:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-02-15 22:41:11.582 +00:00 [DBG] Context 'AuthDbContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-15 22:41:11.691 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:11.724 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 233ms reading results.
2023-02-15 22:41:11.735 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:11.751 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (9ms).
2023-02-15 22:41:11.810 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-02-15 22:41:11.920 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    AuthenticApp.Auth.AuthDbContext, 
    False, 
    False, 
    True
)'
2023-02-15 22:41:11.923 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-15 22:41:11.938 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2023-02-15 22:41:11.940 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2023-02-15 22:41:11.960 +00:00 [DBG] Opening connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:11.974 +00:00 [DBG] Opened connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:11.975 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-02-15 22:41:12.006 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-02-15 22:41:12.007 +00:00 [DBG] Closing data reader to 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:12.009 +00:00 [DBG] A data reader for 'JWTAuth' on server 'localhost' is being disposed after spending 2ms reading results.
2023-02-15 22:41:12.009 +00:00 [DBG] Closing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:12.010 +00:00 [DBG] Closed connection to database 'JWTAuth' on server 'localhost' (0ms).
2023-02-15 22:41:12.175 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-02-15 22:41:12.186 +00:00 [DBG] No information found on request to perform content negotiation.
2023-02-15 22:41:12.187 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-15 22:41:12.189 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-15 22:41:12.192 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-15 22:41:12.210 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-02-15 22:41:12.288 +00:00 [INF] Executed action AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp) in 5969.4146ms
2023-02-15 22:41:12.290 +00:00 [INF] Executed endpoint 'AuthenticApp.Controllers.AuthenticateController.Login (AuthenticApp)'
2023-02-15 22:41:12.311 +00:00 [DBG] Connection id "0HMOFKMQRLSEU" completed keep alive response.
2023-02-15 22:41:12.660 +00:00 [DBG] 'AuthDbContext' disposed.
2023-02-15 22:41:12.670 +00:00 [DBG] Disposing connection to database 'JWTAuth' on server 'localhost'.
2023-02-15 22:41:12.672 +00:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-02-15 22:41:12.673 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/Authenticate/login application/json 61 - 200 - application/json;+charset=utf-8 6582.2567ms
2023-02-15 22:41:28.046 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61
2023-02-15 22:41:28.051 +00:00 [DBG] 1 candidate(s) found for the request path '/api/WeatherForeCast'
2023-02-15 22:41:28.051 +00:00 [DBG] Endpoint 'AuthenticApp.Auth.Controllers.WeatherForecastController.Get (AuthenticApp)' with route pattern 'api/WeatherForecast' is valid for the request path '/api/WeatherForeCast'
2023-02-15 22:41:28.051 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Auth.Controllers.WeatherForecastController.Get (AuthenticApp)'
2023-02-15 22:41:28.052 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:41:28.053 +00:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2023-02-15 22:41:28.054 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-02-15 22:41:28.054 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-15 22:41:28.054 +00:00 [DBG] Connection id "0HMOFKMQRLSEU" completed keep alive response.
2023-02-15 22:41:28.056 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61 - 401 0 - 10.2893ms
2023-02-15 22:41:28.056 +00:00 [DBG] Connection id "0HMOFKMQRLSEU", Request id "0HMOFKMQRLSEU:00000004": started reading request body.
2023-02-15 22:41:28.056 +00:00 [DBG] Connection id "0HMOFKMQRLSEU", Request id "0HMOFKMQRLSEU:00000004": done reading request body.
2023-02-15 22:43:38.977 +00:00 [DBG] Connection id "0HMOFKMQRLSEU" disconnecting.
2023-02-15 22:43:38.979 +00:00 [DBG] Connection id "0HMOFKMQRLSEU" stopped.
2023-02-15 22:43:38.982 +00:00 [DBG] Connection id "0HMOFKMQRLSEU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:45:48.493 +00:00 [INF] Application is shutting down...
2023-02-15 22:45:48.494 +00:00 [DBG] Hosting stopping
2023-02-15 22:45:48.509 +00:00 [DBG] Hosting stopped
2023-02-15 22:45:58.850 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-15 22:45:59.137 +00:00 [DBG] Hosting starting
2023-02-15 22:45:59.148 +00:00 [INF] User profile is available. Using '/Users/daniel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-02-15 22:45:59.153 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-826ed339-3af4-4299-8ccf-c3dacd414a0a.xml'.
2023-02-15 22:45:59.164 +00:00 [DBG] Reading data from file '/Users/daniel/.aspnet/DataProtection-Keys/key-93de24c7-22e8-442b-a084-241f1e0ac865.xml'.
2023-02-15 22:45:59.175 +00:00 [DBG] Found key {826ed339-3af4-4299-8ccf-c3dacd414a0a}.
2023-02-15 22:45:59.181 +00:00 [DBG] Found key {93de24c7-22e8-442b-a084-241f1e0ac865}.
2023-02-15 22:45:59.198 +00:00 [DBG] Considering key {93de24c7-22e8-442b-a084-241f1e0ac865} with expiration date 2023-02-16 02:01:47Z as default key.
2023-02-15 22:45:59.202 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-02-15 22:45:59.215 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-02-15 22:45:59.215 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-02-15 22:45:59.223 +00:00 [DBG] Using key {93de24c7-22e8-442b-a084-241f1e0ac865} as the default key.
2023-02-15 22:45:59.224 +00:00 [DBG] Key ring with default key {93de24c7-22e8-442b-a084-241f1e0ac865} was loaded during application startup.
2023-02-15 22:45:59.326 +00:00 [INF] Now listening on: http://localhost:5157
2023-02-15 22:45:59.326 +00:00 [DBG] Loaded hosting startup assembly AuthenticApp
2023-02-15 22:45:59.327 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-15 22:45:59.327 +00:00 [INF] Hosting environment: Development
2023-02-15 22:45:59.327 +00:00 [INF] Content root path: /Users/daniel/GitHubRepo/WebAPI_ASP.NET/Asp.Net_jwt/AuthenticApp/
2023-02-15 22:45:59.333 +00:00 [DBG] Hosting started
2023-02-15 22:46:18.789 +00:00 [DBG] Connection id "0HMOFKPPVMHK9" received FIN.
2023-02-15 22:46:18.800 +00:00 [DBG] Connection id "0HMOFKPPVMHK9" accepted.
2023-02-15 22:46:18.815 +00:00 [DBG] Connection id "0HMOFKPPVMHK9" started.
2023-02-15 22:46:18.817 +00:00 [DBG] Connection id "0HMOFKPPVMHKA" accepted.
2023-02-15 22:46:18.866 +00:00 [DBG] Connection id "0HMOFKPPVMHKA" started.
2023-02-15 22:46:18.885 +00:00 [DBG] Connection id "0HMOFKPPVMHK9" sending FIN because: "The client closed the connection."
2023-02-15 22:46:18.904 +00:00 [DBG] Connection id "0HMOFKPPVMHK9" disconnecting.
2023-02-15 22:46:18.906 +00:00 [DBG] Connection id "0HMOFKPPVMHK9" stopped.
2023-02-15 22:46:18.964 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61
2023-02-15 22:46:19.009 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-15 22:46:19.071 +00:00 [DBG] 1 candidate(s) found for the request path '/api/WeatherForeCast'
2023-02-15 22:46:19.088 +00:00 [DBG] Endpoint 'AuthenticApp.Auth.Controllers.WeatherForecastController.Get (AuthenticApp)' with route pattern 'api/WeatherForecast' is valid for the request path '/api/WeatherForeCast'
2023-02-15 22:46:19.089 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Auth.Controllers.WeatherForecastController.Get (AuthenticApp)'
2023-02-15 22:46:19.147 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:46:19.149 +00:00 [WRN] Failed to determine the https port for redirect.
2023-02-15 22:46:19.201 +00:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2023-02-15 22:46:19.230 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-02-15 22:46:19.247 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-15 22:46:19.256 +00:00 [DBG] Connection id "0HMOFKPPVMHKA" completed keep alive response.
2023-02-15 22:46:19.290 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61 - 401 0 - 337.6330ms
2023-02-15 22:46:19.319 +00:00 [DBG] Connection id "0HMOFKPPVMHKA", Request id "0HMOFKPPVMHKA:00000002": started reading request body.
2023-02-15 22:46:19.323 +00:00 [DBG] Connection id "0HMOFKPPVMHKA", Request id "0HMOFKPPVMHKA:00000002": done reading request body.
2023-02-15 22:46:21.813 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61
2023-02-15 22:46:21.814 +00:00 [DBG] 1 candidate(s) found for the request path '/api/WeatherForeCast'
2023-02-15 22:46:21.814 +00:00 [DBG] Endpoint 'AuthenticApp.Auth.Controllers.WeatherForecastController.Get (AuthenticApp)' with route pattern 'api/WeatherForecast' is valid for the request path '/api/WeatherForeCast'
2023-02-15 22:46:21.814 +00:00 [DBG] Request matched endpoint 'AuthenticApp.Auth.Controllers.WeatherForecastController.Get (AuthenticApp)'
2023-02-15 22:46:21.814 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:46:21.816 +00:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2023-02-15 22:46:21.818 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-02-15 22:46:21.819 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-02-15 22:46:21.819 +00:00 [DBG] Connection id "0HMOFKPPVMHKA" completed keep alive response.
2023-02-15 22:46:21.821 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/WeatherForeCast application/json 61 - 401 0 - 7.9423ms
2023-02-15 22:46:21.821 +00:00 [DBG] Connection id "0HMOFKPPVMHKA", Request id "0HMOFKPPVMHKA:00000003": started reading request body.
2023-02-15 22:46:21.821 +00:00 [DBG] Connection id "0HMOFKPPVMHKA", Request id "0HMOFKPPVMHKA:00000003": done reading request body.
2023-02-15 22:48:32.390 +00:00 [DBG] Connection id "0HMOFKPPVMHKA" disconnecting.
2023-02-15 22:48:32.397 +00:00 [DBG] Connection id "0HMOFKPPVMHKA" stopped.
2023-02-15 22:48:32.400 +00:00 [DBG] Connection id "0HMOFKPPVMHKA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:48:39.264 +00:00 [DBG] Connection id "0HMOFKPPVMHKB" accepted.
2023-02-15 22:48:39.264 +00:00 [DBG] Connection id "0HMOFKPPVMHKB" started.
2023-02-15 22:48:39.266 +00:00 [DBG] Connection id "0HMOFKPPVMHKB" received FIN.
2023-02-15 22:48:39.266 +00:00 [DBG] Connection id "0HMOFKPPVMHKC" accepted.
2023-02-15 22:48:39.266 +00:00 [DBG] Connection id "0HMOFKPPVMHKB" disconnecting.
2023-02-15 22:48:39.266 +00:00 [DBG] Connection id "0HMOFKPPVMHKB" stopped.
2023-02-15 22:48:39.266 +00:00 [DBG] Connection id "0HMOFKPPVMHKC" started.
2023-02-15 22:48:39.266 +00:00 [DBG] Connection id "0HMOFKPPVMHKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:48:39.273 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/Authenticate/register-admin application/json 92
2023-02-15 22:48:39.273 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Authenticate/register-admin'
2023-02-15 22:48:39.273 +00:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-02-15 22:48:39.274 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:48:39.274 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:48:39.275 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-02-15 22:48:39.277 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-02-15 22:48:39.277 +00:00 [DBG] Connection id "0HMOFKPPVMHKC" completed keep alive response.
2023-02-15 22:48:39.277 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/Authenticate/register-admin application/json 92 - 405 0 - 4.3226ms
2023-02-15 22:48:39.277 +00:00 [DBG] Connection id "0HMOFKPPVMHKC", Request id "0HMOFKPPVMHKC:00000002": started reading request body.
2023-02-15 22:48:39.279 +00:00 [DBG] Connection id "0HMOFKPPVMHKC", Request id "0HMOFKPPVMHKC:00000002": done reading request body.
2023-02-15 22:49:50.502 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/Authenticate/register-admin application/json 92
2023-02-15 22:49:50.509 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Authenticate/register-admin'
2023-02-15 22:49:50.509 +00:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-02-15 22:49:50.509 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-02-15 22:49:50.509 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-02-15 22:49:50.509 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-02-15 22:49:50.510 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-02-15 22:49:50.510 +00:00 [DBG] Connection id "0HMOFKPPVMHKC" completed keep alive response.
2023-02-15 22:49:50.510 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/Authenticate/register-admin application/json 92 - 405 0 - 8.4469ms
2023-02-15 22:49:50.510 +00:00 [DBG] Connection id "0HMOFKPPVMHKC", Request id "0HMOFKPPVMHKC:00000003": started reading request body.
2023-02-15 22:49:50.511 +00:00 [DBG] Connection id "0HMOFKPPVMHKC", Request id "0HMOFKPPVMHKC:00000003": done reading request body.
2023-02-15 22:52:01.578 +00:00 [DBG] Connection id "0HMOFKPPVMHKC" disconnecting.
2023-02-15 22:52:01.584 +00:00 [DBG] Connection id "0HMOFKPPVMHKC" stopped.
2023-02-15 22:52:01.590 +00:00 [DBG] Connection id "0HMOFKPPVMHKC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-15 22:52:20.496 +00:00 [INF] Application is shutting down...
2023-02-15 22:52:20.497 +00:00 [DBG] Hosting stopping
2023-02-15 22:52:20.504 +00:00 [DBG] Hosting stopped
